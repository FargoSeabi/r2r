{% load static %}
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Buy Ticket â€“ Roots to Realities</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
    theme: {
        extend: {
        colors: { brand: { 500:"#e2623f", 600:"#cf5536" } },
        boxShadow: { card: "0 10px 24px rgba(2, 6, 23, .06)" }
        }
    }
    }
</script>
<style>
  :root { --brand-500:#e2623f; --brand-600:#cf5536; --ink:#0f172a; --muted:#475569; }

  /* Header re-skin to match light/clean aesthetic */
  .brand-grad{
    background:#fff !important; color:#0f172a !important;
    border-bottom:1px solid rgba(15,23,42,.08);
  }
  .brand-grad .ring-white\/20{ box-shadow:none; }
  .brand-grad .bg-white\/10{ background:rgba(226,98,63,.12); border:1px solid rgba(226,98,63,.25); }
  .brand-grad .text-white{ color:var(--brand-500) !important; }
  .brand-grad .font-extrabold{ color:#0f172a; }
  .brand-grad .opacity-90{ color:#334155; }

  /* Page base polish */
  body{ background:#f8fafc; color:#0f172a; }
  .card{ box-shadow:0 10px 24px rgba(2, 6, 23, .06); position:relative; overflow:hidden; }
  h1{ letter-spacing:-.02em; color:#0b1220; }
  p, .text-slate-600{ color:#556274; }

  /* ---- Indeterminate "progress" bar at top of the main card ---- */
  .card::before{
    content:"";
    position:absolute; inset:0 0 auto 0; height:6px;
    background:linear-gradient(to right, rgba(226,98,63,.18), rgba(226,98,63,.08));
  }
  .card::after{
    content:""; position:absolute; inset:0 auto auto 0; height:6px; width:32%;
    background:linear-gradient(90deg, var(--brand-500), var(--brand-600));
    border-top-right-radius:6px; border-bottom-right-radius:6px;
    animation: r2r-progress 2.8s ease-in-out infinite;
  }
  @keyframes r2r-progress {
    0% { width:10%; opacity:.85; transform:translateX(0); }
    50%{ width:65%; opacity:1;   transform:translateX(25%); }
    100%{ width:10%; opacity:.85; transform:translateX(95%); }
  }

  /* ---- Ribbon headline injected before the main form section ---- */
  .lg\:col-span-2::before{
    content:"Book your tour now";
    display:inline-flex; align-items:center; gap:.5rem;
    font-weight:800; letter-spacing:.2px;
    color:#0f172a; background:linear-gradient(180deg,#fff, #fff);
    border:1px solid rgba(226,98,63,.35);
    padding:.375rem .75rem; border-radius:9999px;
    box-shadow:0 4px 12px rgba(226,98,63,.10);
    margin-bottom:.75rem;
  }
  .lg\:col-span-2::before{
    /* add a small icon via mask without HTML changes */
    --i:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M12 2l3 6 6 .9-4.5 4.3 1 6-5.5-3-5.5 3 1-6L3 8.9 9 8z' fill='black'/></svg>");
  }
  .lg\:col-span-2::before{
    position:relative;
  }
  .lg\:col-span-2::before:has(*){}

  /* Orange form border (styling only; no DOM changes) */
  form#ticketForm{
    border:2px solid rgba(226,98,63,.45);
    border-radius:1rem; padding:1rem;
    background:linear-gradient(180deg,#ffffff 0%, #fff 60%, #fff 100%);
    box-shadow:0 6px 18px rgba(2,6,23,.04);
  }

  /* Step chip (use plain CSS; no Tailwind build) */
  .step{ counter-increment: step; position:relative; padding-left:.25rem; color:#0f172a; }
  .step:before{
    content: counter(step);
    display:inline-flex; align-items:center; justify-content:center;
    height:1.5rem; width:1.5rem; margin-right:.5rem;
    border-radius:9999px; background:var(--brand-500); color:#fff;
    font-weight:700; font-size:.75rem; vertical-align:middle;
  }

  /* Inputs: clarity, accessible focus */
  input, select{
    background:#fff; border:1px solid #e2e8f0 !important;
    padding:.625rem .75rem !important; border-radius:.85rem !important;
    transition:border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
  }
  input::placeholder{ color:#94a3b8; }
  input:focus, select:focus{
    outline:0; border-color: var(--brand-500) !important;
    box-shadow: 0 0 0 3px rgba(226,98,63,.15);
  }

  /* Labels with CSS-only icons for scannability */
  label > span{ display:flex; align-items:center; gap:.5rem; color:#1f2937; font-weight:600; }
  label > span::before{
    content:""; display:inline-block; height:1rem; width:1rem;
    background: var(--brand-500); transform:translateY(1px);
    -webkit-mask-size:contain; -webkit-mask-repeat:no-repeat; -webkit-mask-position:center;
            mask-size:contain;            mask-repeat:no-repeat;            mask-position:center;
  }
  /* Name/Surname */
  label:has(input[name="name"]) > span::before,
  label:has(input[name="surname"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7.5 7.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z'/><path d='M2.25 20.25a9.75 9.75 0 1119.5 0v.75H2.25v-.75z'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7.5 7.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z'/><path d='M2.25 20.25a9.75 9.75 0 1119.5 0v.75H2.25v-.75z'/></svg>");
  }
  /* Email */
  label:has(input[name="email"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M3 6.75A2.75 2.75 0 015.75 4h12.5A2.75 2.75 0 0121 6.75v10.5A2.75 2.75 0 0118.25 20H5.75A2.75 2.75 0 013 17.25V6.75z'/><path d='M4 7l8 6 8-6'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M3 6.75A2.75 2.75 0 015.75 4h12.5A2.75 2.75 0 0121 6.75v10.5A2.75 2.75 0 0118.25 20H5.75A2.75 2.75 0 013 17.25V6.75z'/><path d='M4 7l8 6 8-6'/></svg>");
  }
  /* Phone */
  label:has(input[name="phone"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6.5 3h3a1 1 0 011 1v2a1 1 0 01-1 1H8.5a.5.5 0 00-.5.5C8 12 12 16 16.5 16a.5.5 0 00.5-.5V14a1 1 0 011-1h2a1 1 0 011 1v3a2 2 0 01-2 2C10.82 19 5 13.18 5 6a2 2 0 012-2z'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6.5 3h3a1 1 0 011 1v2a1 1 0 01-1 1H8.5a.5.5 0 00-.5.5C8 12 12 16 16.5 16a.5.5 0 00.5-.5V14a1 1 0 011-1h2a1 1 0 011 1v3a2 2 0 01-2 2C10.82 19 5 13.18 5 6a2 2 0 012-2z'/></svg>");
  }
  /* Gender */
  label:has(select[name="gender"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='5'/><path d='M19 5h-4v4'/><path d='M19 5l-6 6'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='5'/><path d='M19 5h-4v4'/><path d='M19 5l-6 6'/></svg>");
  }
  /* Age (calendar) */
  label:has(input[name="age"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7 3v2M17 3v2M4 7h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7 3v2M17 3v2M4 7h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z'/></svg>");
  }
  /* Designation (briefcase) */
  label:has(select[name="designation"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M9 4h6a2 2 0 012 2v1h2a2 2 0 012 2v8a3 3 0 01-3 3H6a3 3 0 01-3-3V9a2 2 0 012-2h2V6a2 2 0 012-2z'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M9 4h6a2 2 0 012 2v1h2a2 2 0 012 2v8a3 3 0 01-3 3H6a3 3 0 01-3-3V9a2 2 0 012-2h2V6a2 2 0 012-2z'/></svg>");
  }
  /* ID Number (card) */
  label:has(input[name="idnum"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='14' rx='2'/><circle cx='8' cy='12' r='2.25'/><rect x='12' y='10' width='7' height='1.5'/><rect x='12' y='13' width='5' height='1.5'/></svg>");
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='14' rx='2'/><circle cx='8' cy='12' r='2.25'/><rect x='12' y='10' width='7' height='1.5'/><rect x='12' y='13' width='5' height='1.5'/></svg>");
  }

  /* Price panel visual elevation */
  .border-slate-200.bg-slate-50.p-4{
    background:linear-gradient(180deg, #f8fafc 0%, #ffffff 100%) !important;
    border:1px solid #e2e8f0 !important; border-radius:1rem;
  }
  #amount{ font-variant-numeric:tabular-nums; }
  #amount::before{
    content:""; display:inline-block; height:1.1rem; width:1.1rem; margin-right:.35rem; transform:translateY(2px);
    background: currentColor;
    -webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 8.25A2.25 2.25 0 015.25 6h13.5A2.25 2.25 0 0121 8.25v2.25a1.5 1.5 0 110 3v2.25A2.25 2.25 0 0118.75 18H5.25A2.25 2.25 0 013 15.75V13.5a1.5 1.5 0 110-3V8.25z' stroke='black' stroke-width='1.5'/></svg>") center/contain no-repeat;
            mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 8.25A2.25 2.25 0 015.25 6h13.5A2.25 2.25 0 0121 8.25v2.25a1.5 1.5 0 110 3v2.25A2.25 2.25 0 0118.75 18H5.25A2.25 2.25 0 013 15.75V13.5a1.5 1.5 0 110-3V8.25z' stroke='black' stroke-width='1.5'/></svg>") center/contain no-repeat;
  }

  /* Button */
  button[type="submit"]{
    background:var(--brand-500) !important;
    border:1px solid rgba(226,98,63,.25);
    box-shadow:0 6px 16px rgba(226,98,63,.25);
    transition:transform .06s ease, box-shadow .2s ease, background .2s ease;
  }
  button[type="submit"]:hover{ background:var(--brand-600) !important; box-shadow:0 8px 20px rgba(207,85,54,.28); transform:translateY(-1px); }
  button[type="submit"]:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(207,85,54,.22); }

  /* Helper microcopy colors */
  .text-slate-700{ color:#334155 !important; }
  .text-slate-500{ color:#64748b !important; }
  .text-emerald-700{ color:#0f766e !important; }

  /* Image edge harmony on aside */
  aside img{ border-bottom-left-radius:0; border-bottom-right-radius:0; }
</style>

<style>
    
  :root { --brand-500:#e2623f; --brand-600:#cf5536; --ink:#0f172a; --muted:#475569; }

  /* Header re-skin to match the light aesthetic shown */
  .brand-grad{
    background: #fff !important;
    color:#0f172a !important;
    border-bottom:1px solid rgba(15,23,42,.08);
  }
  .brand-grad .ring-white\/20{ box-shadow:none; }
  .brand-grad .bg-white\/10{ background:rgba(226,98,63,.12); border:1px solid rgba(226,98,63,.25); }
  .brand-grad .text-white{ color:var(--brand-500) !important; }
  .brand-grad .font-extrabold{ color:#0f172a; }
  .brand-grad .opacity-90{ color:#334155; }

  /* Page base polish */
  body{ background:#f8fafc; color:#0f172a; }
  .card{ box-shadow:0 10px 24px rgba(2, 6, 23, .06); }
  h1{ letter-spacing:-.02em; }
  h1, .font-black{ color:#0b1220; }
  p, .text-slate-600{ color:#556274; }

  /* Numbered step chip (Tailwind @apply doesn't run here; do it in CSS) */
  .step{ counter-increment: step; position:relative; padding-left:.25rem; }
  .step:before{
    content: counter(step);
    display:inline-flex; align-items:center; justify-content:center;
    height:1.5rem; width:1.5rem; margin-right:.5rem;
    border-radius:9999px; background:var(--brand-500); color:#fff;
    font-weight:700; font-size:.75rem; vertical-align:middle;
  }

  /* Inputs: larger targets, soft borders, clear focus */
  input, select{
    background:#fff;
    border:1px solid #e2e8f0 !important;
    padding:.625rem .75rem !important;
    border-radius: .85rem !important;
    transition:border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
  }
  input::placeholder{ color:#94a3b8; }
  input:focus, select:focus{
    outline:0; border-color: var(--brand-500) !important;
    box-shadow: 0 0 0 3px rgba(226,98,63,.15);
  }

  /* Button refinement */
  button[type="submit"]{
    background:var(--brand-500) !important;
    border:1px solid rgba(226,98,63,.25);
    box-shadow:0 6px 16px rgba(226,98,63,.25);
    transition:transform .06s ease, box-shadow .2s ease, background .2s ease;
  }
  button[type="submit"]:hover{ background:var(--brand-600) !important; box-shadow:0 8px 20px rgba(207,85,54,.28); transform:translateY(-1px); }
  button[type="submit"]:active{ transform:translateY(0); box-shadow:0 3px 10px rgba(207,85,54,.22); }

  /* Price panel */
  .border-slate-200.bg-slate-50.p-4{
    background:linear-gradient(180deg, #f8fafc 0%, #ffffff 100%) !important;
    border:1px solid #e2e8f0 !important;
  }
  #amount{ font-variant-numeric:tabular-nums; }
  /* Add a ticket icon before the amount (CSS-only) */
  #amount::before{
    content:"";
    display:inline-block; height:1.1rem; width:1.1rem; margin-right:.35rem; transform:translateY(2px);
    background: currentColor;
    -webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 8.25A2.25 2.25 0 015.25 6h13.5A2.25 2.25 0 0121 8.25v2.25a1.5 1.5 0 110 3v2.25A2.25 2.25 0 0118.75 18H5.25A2.25 2.25 0 013 15.75V13.5a1.5 1.5 0 110-3V8.25z' stroke='black' stroke-width='1.5'/></svg>") center/contain no-repeat;
            mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 8.25A2.25 2.25 0 015.25 6h13.5A2.25 2.25 0 0121 8.25v2.25a1.5 1.5 0 110 3v2.25A2.25 2.25 0 0118.75 18H5.25A2.25 2.25 0 013 15.75V13.5a1.5 1.5 0 110-3V8.25z' stroke='black' stroke-width='1.5'/></svg>") center/contain no-repeat;
  }

  /* Side panel image rounding harmony */
  aside img{ border-bottom-left-radius:0; border-bottom-right-radius:0; }
  aside .p-4 .font-semibold{ color:#0f172a; }
  aside .p-4 .text-xs{ color:#64748b; }

  /* ---------- Iconography via CSS ONLY (no HTML changes) ---------- */
  /* Generic icon builder */
  label > span{
    display:flex; align-items:center; gap:.5rem;
    color:#1f2937;
    font-weight:600;
  }
  label > span::before{
    content:"";
    display:inline-block; height:1rem; width:1rem; color:var(--brand-500);
    background: currentColor;
    transform:translateY(1px);
  }
  /* Name */
  label:has(input[name="name"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7.5 7.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z'/><path d='M2.25 20.25a9.75 9.75 0 1119.5 0v.75H2.25v-.75z'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7.5 7.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z'/><path d='M2.25 20.25a9.75 9.75 0 1119.5 0v.75H2.25v-.75z'/></svg>") center/contain no-repeat;
  }
  /* Surname (same user icon) */
  label:has(input[name="surname"]) > span::before{ -webkit-mask:inherit; mask:inherit; }

  /* Email */
  label:has(input[name="email"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M3 6.75A2.75 2.75 0 015.75 4h12.5A2.75 2.75 0 0121 6.75v10.5A2.75 2.75 0 0118.25 20H5.75A2.75 2.75 0 013 17.25V6.75z'/><path d='M4 7l8 6 8-6'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M3 6.75A2.75 2.75 0 015.75 4h12.5A2.75 2.75 0 0121 6.75v10.5A2.75 2.75 0 0118.25 20H5.75A2.75 2.75 0 013 17.25V6.75z'/><path d='M4 7l8 6 8-6'/></svg>") center/contain no-repeat;
  }

  /* Phone */
  label:has(input[name="phone"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6.5 3h3a1 1 0 011 1v2a1 1 0 01-1 1H8.5a.5.5 0 00-.5.5C8 12 12 16 16.5 16a.5.5 0 00.5-.5V14a1 1 0 011-1h2a1 1 0 011 1v3a2 2 0 01-2 2C10.82 19 5 13.18 5 6a2 2 0 012-2z'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M6.5 3h3a1 1 0 011 1v2a1 1 0 01-1 1H8.5a.5.5 0 00-.5.5C8 12 12 16 16.5 16a.5.5 0 00.5-.5V14a1 1 0 011-1h2a1 1 0 011 1v3a2 2 0 01-2 2C10.82 19 5 13.18 5 6a2 2 0 012-2z'/></svg>") center/contain no-repeat;
  }

  /* Gender */
  label:has(select[name="gender"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M12 7a5 5 0 110 10 5 5 0 010-10z'/><path d='M19 5l-4 0 0 4'/><path d='M19 5l-6 6'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M12 7a5 5 0 110 10 5 5 0 010-10z'/><path d='M19 5l-4 0 0 4'/><path d='M19 5l-6 6'/></svg>") center/contain no-repeat;
  }

  /* Age (calendar) */
  label:has(input[name="age"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7 3v2M17 3v2M4 7h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M7 3v2M17 3v2M4 7h16v12a2 2 0 01-2 2H6a2 2 0 01-2-2V7z'/></svg>") center/contain no-repeat;
  }

  /* Designation (briefcase) */
  label:has(select[name="designation"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M9 4h6a2 2 0 012 2v1h2a2 2 0 012 2v8a3 3 0 01-3 3H6a3 3 0 01-3-3V9a2 2 0 012-2h2V6a2 2 0 012-2z'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M9 4h6a2 2 0 012 2v1h2a2 2 0 012 2v8a3 3 0 01-3 3H6a3 3 0 01-3-3V9a2 2 0 012-2h2V6a2 2 0 012-2z'/></svg>") center/contain no-repeat;
  }

  /* ID Number (id card) */
  label:has(input[name="idnum"]) > span::before{
    -webkit-mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='14' rx='2'/><circle cx='8' cy='12' r='2.25'/><rect x='12' y='10' width='7' height='1.5'/><rect x='12' y='13' width='5' height='1.5'/></svg>") center/contain no-repeat;
            mask:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='14' rx='2'/><circle cx='8' cy='12' r='2.25'/><rect x='12' y='10' width='7' height='1.5'/><rect x='12' y='13' width='5' height='1.5'/></svg>") center/contain no-repeat;
  }

  /* Helper microcopy colors */
  .text-slate-700{ color:#334155 !important; }
  .text-slate-500{ color:#64748b !important; }
  .text-emerald-700{ color:#0f766e !important; }

  /* Card/section spacing harmony for desktop */
  @media (min-width:1024px){
    main .grid.lg\:grid-cols-3{ column-gap:2rem; }
  }
</style>

</head>
<body class="bg-slate-50 text-slate-900">
<!-- Header -->
<header class="brand-grad text-white">
    <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
    <div class="flex items-center gap-3">
        <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-white/10 ring-1 ring-white/20">
        <svg viewBox="0 0 24 24" fill="none" class="h-5 w-5 text-white"><path d="M12 2a10 10 0 100 20 10 10 0 000-20Zm0 0v20M2 12h20" stroke="currentColor" stroke-width="1.5"/></svg>
        </span>
        <span class="font-extrabold tracking-tight">Roots to Realities</span>
    </div>
    <div class="text-sm opacity-90">VR Experience Ticket</div>
    </div>
</header>

<main class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-8">
    <div class="bg-white rounded-2xl ring-1 ring-slate-200 card p-6 lg:p-8">
    <div class="grid lg:grid-cols-3 gap-8">
        <!-- Form -->
        <section class="lg:col-span-2">
        <h1 class="text-2xl sm:text-3xl font-black tracking-tight">Your details</h1>
        <p class="mt-2 text-slate-600">Please complete your information to determine your ticket price and proceed to secure payment.</p>

        <form id="ticketForm" action="{% url 'payfast_checkout' 150 %}" method="post" class="mt-6 space-y-6">
            {% csrf_token %}

            <div>
            <div class="step font-semibold text-slate-800">Personal Information</div>
            <div class="mt-3 grid sm:grid-cols-2 gap-4">
                <label class="block">
                <span class="text-sm text-slate-700">Name *</span>
                <input required name="name" type="text" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. Thandi" />
                </label>
                <label class="block">
                <span class="text-sm text-slate-700">Surname *</span>
                <input required name="surname" type="text" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. Ndlovu" />
                </label>
            </div>

            <div>
            <div class="mt-3 grid">
                <label class="block">
                <span class="text-sm text-slate-700">Email Address *</span>
                <input required name="email" type="email" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. 4E6Y8@example.com" />
                </label>
                <label class="block">
                <span class="text-sm text-slate-700">Phone Number *</span>
                <input required name="phone" type="tel" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. 012-345-6789" />
                </label>
            </div>

            <div class="mt-3 grid sm:grid-cols-3 gap-4">
                <label class="block">
                <span class="text-sm text-slate-700">Gender</span>
                <select name="gender" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500">
                    <option value="" selected>Prefer not to say</option>
                    <option>Female</option>
                    <option>Male</option>
                    <option>Non-binary</option>
                    <option>Other</option>
                </select>
                </label>
                <label class="block">
                <span class="text-sm text-slate-700">Age *</span>
                <input required name="age" id="age" type="number" min="1" max="120" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. 22" />
                </label>
                <label class="block sm:col-span-1">
                <span class="text-sm text-slate-700">Designation *</span>
                <select required name="designation" id="designation" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500">
                    <option value="adult" selected>Adult</option>
                    <option value="student">Uni Student</option>
                    <option value="child">13 and under</option>
                    <option value="pensioner">Pensioner</option>
                </select>
                </label>
                
            </div>

            <div class="mt-3 grid">
                <label class="block">
                <span class="text-sm text-slate-700">ID Number *</span>
                <input required name="idnum" type="text" class="mt-1 w-full rounded-xl border-slate-300 focus:border-brand-500 focus:ring-brand-500" placeholder="e.g. 0505161170072" />
                </label>
            </div>
            </div>

            <div>
            <div class="step font-semibold text-slate-800">Price</div>
            <div class="mt-3 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 p-4">
                <div class="text-sm text-slate-700">
                {% comment %}
                <div>Category: <span id="priceLabel" class="font-semibold">Adult</span></div>
                <div class="text-xs text-slate-500">R150 Adult Â· R75 Student/Under 13/Pensioner</div>
                {% endcomment %}
                </div>
                <div class="text-2xl font-extrabold text-emerald-700">R <span id="amount">150.00</span></div>
            </div>
            <p class="mt-2 text-xs text-slate-500">Price updates automatically when you change age or designation. Final price is confirmed on the next step.</p>
            </div>

            <div class="pt-2 flex items-center gap-3">
            <button type="submit" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-brand-500 hover:bg-brand-600 text-white font-semibold">
                Continue to Secure Payment
                <a href=""></a>
                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor"><path d="M5 12h12M13 5l7 7-7 7"/></svg>
            </button>
            <span class="text-xs text-slate-500">Youâ€™ll enter your card details on the PayFast page.</span>
            </div>
        </form>
        </section>

        <!-- Helpful panel -->
        <aside>
        <div class="rounded-2xl overflow-hidden ring-1 ring-slate-200">
            <img src="https://www.krugerpark.co.za/images/magubane-xhosa042-786x516.jpg" alt="" class="w-full h-44 object-cover" />
            <div class="p-4">
            <div class="font-semibold">What happens next?</div>
            <ul class="mt-2 text-sm text-slate-600 space-y-1">
                <li>â€¢ We calculate your ticket price from your age/designation.</li>
                <li>â€¢ Youâ€™re redirected to <strong>PayFast</strong> to pay securely.</li>
                <li>â€¢ On success, youâ€™ll return to our site with your receipt.</li>
            </ul>
            <div class="mt-4 text-xs text-slate-500">We donâ€™t store your card details. Payments are processed by PayFast.</div>
            </div>
        </div>
        </aside>
    </div>
    </div>
</main>

<script>
    (function () {
    const ageEl = document.getElementById('age');
    const desEl = document.getElementById('designation');
    const amountEl = document.getElementById('amount');
    const labelEl = document.getElementById('priceLabel');

    function compute() {
        const age = parseInt(ageEl.value || "0", 10);
        const des = (desEl.value || "").toLowerCase();

        let amount = 150.00;
        let label = "Adult";

        if (des === "student" || des === "pensioner" || age <= 13 || des === "child") {
        amount = 75.00;
        label = (des === "student") ? "Uni Student"
                : (des === "pensioner") ? "Pensioner"
                : (age <= 13 || des === "child") ? "13 and under"
                : "Concession";
        }
        amountEl.textContent = amount.toFixed(2);
        labelEl.textContent = label;
    }

    ageEl.addEventListener('input', compute);
    desEl.addEventListener('change', compute);
    compute(); // initial
    })();
</script>
</body>
</html>
